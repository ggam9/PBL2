{% extends "group_page.html" %}

{% block title %}ÌååÏùº{% endblock %}

{% block group_content %}
<style>.group_content h2 {
    margin-bottom: 20px;
}

.upload-form {
    margin-bottom: 30px;
    padding: 15px;
    background-color: #f8f9fa;
    border-radius: 5px;
    border: 1px solid #ddd;
}

.btn {
    margin: 5px 0;
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

.btn-primary {
    background-color: #007bff;
    color: white;
}

.btn-danger {
    background-color: #dc3545;
    color: white;
}

.btn-link {
    margin-left: 10px;
    color: #007bff;
    text-decoration: none;
}

.btn-link:hover {
    text-decoration: underline;
}

.file-list {
    list-style: none;
    padding: 0;
}

.file-item {
    border: 1px solid #ddd;
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 5px;
    background-color: #ffffff;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.file-item span {
    flex-grow: 1;
}
</style>
<h2>{{ post.title }} üìÅ ÏûêÎ£å Í≥µÏú†</h2>

<form method="POST" enctype="multipart/form-data" class="upload-form">
    <div class="form-group">
        <label for="file">Upload File</label>
        <input type="file" id="file" name="file" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="subdirectory">Choose Directory</label>
        <select id="subdirectory" name="subdirectory" class="form-control">
            <option value="documents">Documents</option>
            <option value="images">Images</option>
            <option value="videos">Videos</option>
        </select>
    </div>
    <button type="submit" class="btn btn-primary">Upload</button>
</form>

<h3>Available Files and Directories</h3>
<ul class="file-list">
    {% for item in dirs_and_files %}
    <li class="file-item">
        <span>{{ item }}</span>
        {% if not item.endswith('/') %}
        <a href="{{ url_for('download_file', post_id=post.id, filename=item) }}" class="btn btn-link">Download</a>
        <form method="POST" action="{{ url_for('delete_file', post_id=post.id, filename=item) }}" style="display:inline;">
            <button type="submit" class="btn btn-danger">Delete</button>
        </form>
        {% endif %}
    </li>
    {% endfor %}
</ul>
{% endblock %}
