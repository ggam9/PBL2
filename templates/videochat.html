<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebRTC SFU 화상회의</title>
  <style>
    body { margin:0; padding:0; background:#121212; color:#fff; font-family:Arial,sans-serif; }
  .video-grid {
    display:grid;
    grid-template-columns:repeat(4,1fr); 
    gap:8px; margin:20px auto; width:90%; 
  }
  .video-grid video {
    width:100%; 
    aspect-ratio:16/9; 
    border-radius:6px; 
  }
  .local-video { 
    display:flex; 
    justify-content:center; 
    margin-bottom:20px; 
  }
  .local-video video { 
    width:300px; 
    aspect-ratio:16/9; 
    border-radius:6px; 
  }
  #controls { 
    position:fixed; 
    bottom:10px; 
    left:50%; 
    transform:translateX(-50%); 
  }
  #controls button { 
    margin:0 4px; 
    padding:8px 12px; 
    border:none; 
    border-radius:4px; 
    cursor:pointer; 
  }
  #chatBox {
  position: fixed;
  top: 0;
  right: -320px; /* 숨김 상태 */
  width: 300px;
  height: 100%;
  background-color: rgba(30, 30, 30, 0.95); /* 옅은 검정 투명도 */
  color: #fff;
  box-shadow: -2px 0 5px rgba(0,0,0,0.5);
  transition: right 0.3s ease-in-out;
  display: flex;
  flex-direction: column;
  z-index: 1000;
}

#chatBox.show {
  right: 0; /* 보일 때 */
}

#chatMessages {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
  font-size: 14px;
}

#chatInput {
  border: none;
  padding: 12px;
  font-size: 14px;
  background-color: #222;
  color: white;
  outline: none;
  border-top: 1px solid #444;
}
</style>


</head>
<body data-username="{{ username }}" data-postid="{{ post_id }}"data-userid="{{ user_id }}">
  <div id="remoteContainer" class="video-grid"></div>
  <div id="localContainer" class="local-video"></div>

  <div id="controls">
    <button id="btnMute">음소거</button>
    <button id="btnCam">카메라 켜/끄기</button>
    <button id="btnShare">화면 공유</button>
    <button id="btnEnd">통화 종료</button>
    <button id="btnChat">채팅</button>
  </div>

  
  
   
 
  <script type="module" src="/static/app.js"></script>
  <div id="chatBox">
    <div id="chatMessages"></div>
    <input id="chatInput" type="text" placeholder="메시지를 입력하세요..." />
  </div>
</body>
</html>
